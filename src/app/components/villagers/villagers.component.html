<ion-content>
  <div class="villagers-container">
    <ion-searchbar animated mode="ios" [(ngModel)]="searchFilter" (ionChange)="applySearchFilter()"></ion-searchbar>
    <div class="villagers-list-container fade-in" *ngIf="!isSearching">
      <div class="empty-state" *ngIf="caughtVillagers.length === 0">
        There are no Villagers registered in your island right now. Try searching for them with the search bar above!
      </div>
      <div class="villager caught" *ngFor="let villager of caughtVillagers" (click)="toggleCaught($event, villager)">
        <ion-avatar>
          <ion-img [src]="villager.iconBase64"></ion-img>
        </ion-avatar>
        <ion-label>{{ villager.name }}</ion-label>
      </div>
    </div>
    <div class="search-results fade-in" *ngIf="isSearching">
      <ion-button size="small" color="medium" shape="round" expand="block" (click)="cancelSearch()">Cancel search</ion-button>
      <div class="villagers-list-container">
        <div class="empty-state" *ngIf="searchResults.length === 0">
          No Villagers found with that name.
        </div>
        <div class="villager" [ngClass]="{'caught': villager.caught}" *ngFor="let villager of searchResults" (click)="toggleCaught($event, villager)">
          <ion-avatar>
            <ion-img [src]="villager.iconBase64"></ion-img>
          </ion-avatar>
          <ion-label>{{ villager.name }}</ion-label>
        </div>
      </div>
    </div>
  </div>
</ion-content>
